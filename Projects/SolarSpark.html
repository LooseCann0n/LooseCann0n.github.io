<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../CSS/projects.css">
    <link rel="stylesheet" href="../CSS/colours.css">
    <link rel="stylesheet" href="../CSS/contentboxes.css">
    <link rel="stylesheet" href="../CSS/global.css">
    <link rel="stylesheet" href="../CSS/footer.css">
    <link rel="stylesheet" href="../CSS/topnav.css">
    <link rel="stylesheet" href="../CSS/background.css">
    <link rel="stylesheet" href="../CSS/buttons.css">

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // Create a YouTube player when the API is ready
        function onYouTubeIframeAPIReady() {
            var playerTrailer = new YT.Player('playerTrailer', {
                height: '100%',
                width: '100%',
                videoId: 'qgrneknSSBU',
            });       
            var playerSobek = new YT.Player('playerSobek', {
                height: '100%',
                width: '100%',
                videoId: 'srYHbdRGF7A',
            });
        }
    </script>
</head>

<!-- Topbar with links to other webpages -->
<div class="topnav-alignment">
    <nav class="topnav">
        <a href="../index.html">Home</a>
        <a href="../about-me.html">CV</a>
        <a class="active" href="../portfolio.html">Portfolio</a>
        <a href="../contact.html">Contact</a>
    </nav>
</div>

<body>
    <div class="main">
        <div class=title>
            <h1>Thomas Billett</h1>      
        </div>

        <hr class="hr-with-line-breaks">

        <!-- Game introduction-->
        <div class="smallbox l">
            <h1>Solar Spark - CaliCat Studios</h1>       

            <a href="../portfolio.html">
                <button class = "returnbutton">Return</button>
            </a>

            <br>

            <h3>Grade Awarded - 1st</h3>

            <!-- YouTube player embed -->
            <div class="player-container">
                <div id="playerTrailer"></div>
            </div>

            <h3>Introduction</h3>

            <p class="description">
                Embark on an extraordinary journey where SolarPunk meets Ancient Egyptian Mythology. As the exiled
                queen, Eset, you will be thrust into an epic quest to revive your beloved Osiris and topple the ruinous
                powers of the Desert King, Set.
                <br>
                This single-player action-adventure game offers exploration, mind-bending puzzles, and intense combat.
                With a stylized art direction, you will fall in love with the awe-inspiring landscapes and rich
                narrative you come across throughout your journey.
            </p>

            <div class="itch-container">
                <iframe src="https://itch.io/embed/1939160?dark=true" width="552" height="167" frameborder="0"><a
                        href="https://calicatgamesstudio.itch.io/solar-spark">Solar Spark by CaliCat Games
                        Studio</a></iframe>
            </div>

            <p class="description">
                Solar Spark was created in my final year at Falmouth University with a years development time and it is the project I am most proud
                of. This project was created by a total of 13 people, composed of 3 programmers, 3 designers, 5 artists, a writer and an animator.
            </p>

        </div>

        <hr class="hr-with-line-breaks">

        <!-- Roles and contributions box -->
        <div class="smallbox l">
            <h3>My Roles</h3>
                <p class="description">
                    <ul class="innerfirst">
                        <li><b>AI Programmer:</b> This was my specialism in the project and where a large amount of my efforts
                            were focused. Created AI systems for enemies.</li>
                    </ul>

                    <h3>Contributions</h3>

                    <ul>
                        <li><b>Enemy AI & Animations: </b> I created the sword and axe enemy variants, configured animations and
                            repurposed existing AI functionality to create the final boss.</li>                                        
                        <li><b>Input System: </b>Used Unity's input package to create a robust system, allowing for
                            customisation for whatever we needed. Also included input prompts
                            with a corresponding icon for several different controller.</li>
                        <li><b>Menu System: </b>Using simple button elements, I constructed the main menu, pause menu and
                            settings menu,</li>
                        <li><b>Camera: </b>The Cinemachine package was used to get a basic camera, then finer details were
                            adjusted to get the camera we desired.</li>
                        <li><b>Build Creation: </b>I was responsible for creating weekly builds to ensure frequent
                            playtesting.</li>
                        <li><b>Debug Tools: </b>To reduce designer <i>'blockers'</i> I created a noclip system and a checkpoint system.</li>
                        <li><b>Bugfixing: </b>Any bugs that were found during playtesting were noted down and fixed by me and the other programmers.</li>
                    </ul>

                    <i>A more detailed version of my roles and contributions is further below</i>
                </p>
        </div>

        <hr class="hr-with-line-breaks">

        <!-- Detailed AI dev box: -->
        <div class="smallbox l">
            <h3>Enemy AI</h3>
            <p class="description">
                To create the AI, I decided to use behaviour trees for the project. This was for several reasons:
            </p>
                <ul>
                    <li>Ease of troubleshooting due to its visual nature.</li>
                    <li>Modularity allows nodes to be interchanged to quickly create or modify behaviours.</li>
                    <li>Familiarity with this approach.</li>
                </ul>
            <p class="description">
                I used a package from the asset store to avoid having to create a behaviour tree system from scratch which would have taken precious time from the project <i>see below</i>                
            </p>

            <h4>Find Player</h4>
            <p class="description">
                I began by creating a node which would detect the player, so that only enemies close to the player would engage. I went with a 'field of view' cone approach, by checking collisions
                in sphere then checking if there is a valid angle to the player.

            </p>

            <div class=".container">
                <img src="../Images/BehaviourTree.png">
                <p class="reference">Generic enemy behaviour tree, from <a href="https://www.youtube.com/watch?v=SgrG6uAZDHE">TheKiwiCoder</a> package</p>
            </div>

            <br>
            
            <h3>Boss AI</h3>
            <p class="description">
                Sobek was the final component of our vertical slice. A mechanical crocodile scientist corrupted by the influence of the villain Set, he serves as the boss encounter. 
                <br>
                For the design he was to be imposing and a serious threat to the player, with his weakness being his speed. This was all taken into account with its AI. A video of the fight is available below.

            </p>
            <div class="player-container">
                <div id="playerSobek"></div>
            </div>
            <p class="description">
                
            </p>

            <h3>Scripts</h3>
            <p class="description">
                <a id ="link" target ="_blank" href = "https://github.com/LooseCann0n/SolarSpark/blob/d7e25ea9ed67f3f3f2c052ab4e1147c908ca8185/Assets/Scripts/AI/Behaviour%20Trees/FindPlayer.cs#L1">FindPlayer</a>
                 - A Field of view check to determine if player is in sight
                 <br>
                <a id ="link" target ="_blank" href = "https://github.com/LooseCann0n/SolarSpark/blob/d7e25ea9ed67f3f3f2c052ab4e1147c908ca8185/Assets/Scripts/AI/Behaviour%20Trees/FindAttackers.cs#L1">FindAttackers</a>
                 - Determines if there is an available space to attack the player
            </p>
        </div>

        <hr class="hr-with-line-breaks">

        <!-- Input system dev box: -->
        <div class="smallbox l">
            <h3>Input System</h3>
            <p class="description">
                Working closely with designers. The first step was to decide on what abilties and actions we wanted the player to have, afterward we could begin creating a control layout. We decided upon
                a easy to pickup control scheme.
                <br>
                We decided upon a light attack & wide attack, a dash to quickly traverse the battlefield, a jump to navigate the environments, a interaction key, a block to
                avoid enemy damage and with correct timing allow for a parry, a special attack and a healing ability.
            </p>
            
            <br>

            <h4>Prompts</h4>
            <p class="description">
                I encouraged moving over to the new Unity input system as quickly as possible. As the longer this took the more code we would have to refactor and the less flexibility we would have with button interactions.
                In addition, I used the <a id="link" href="https://assetstore.unity.com/packages/tools/gui/input-icons-for-tmpro-213736">Input Icons</a> package to create dynamic icon prompts in the tutorial, updating when the user
                switches to a different input device.  
                <!-- For the combat system we wanted a simple
                easy to pickup control scheme. So we decided upon a light attack & wide attack, a dash to quickly traverse the battlefield. -->
            </p>

            <div class=".container">
                    <img src="../Images/CombinedInputImage.png">
            </div>
            
            <p class="description">
                The image above shows the menu rebinding screen, players can change the input for the controls for either gamepad or keyboard.
            </p>
        </div>

        <hr class="hr-with-line-breaks">

        <!-- Detailed camera dev info: -->
        <div class="smallbox l">
            <h3>Camera</h3>
            <p class="description">
                Since I had prior experience in creating a camera system I was chosen to make it. It would need to be
                fast and responsive, in alignment with the fast paced hack and slash combat system. We drew inspiration
                from games such as <i>Devil May Cry 5</i> and <i>NieR: Automata</i>.
            </p>

            <!-- <div class="flex-container">
                <div class="image">
                    <img src="../images/nier.jpg">
                </div>
                <div class="image">
                    <img src="../images/nier.jpg">

                </div>
                <div class="image">
                    <img src="../images/dmc5.jpg">
                </div>
                <div class="image">
                    <img src="../images/dmc5.jpg">
                </div> -->

                <div class="image-wrapper">
                    <img id="grid" src="../Images/nier.jpg">
                    <img id="grid"src="../Images/nier.jpg">
                    <img id="grid"src="../Images/DMC5.jpg">
                    <img id="grid"src="../Images/DMC5.jpg">
                </div>
                <p class="reference">NieR: Automata by Square Enix.</p>


            <p class="description">
                I decided to use <i>Cinemachine</i> for the camera system rather than creating my own from scratch.
                Cinemachine has many advantages such as:
                <!-- CineMachine pros list -->
            </p>

            <ul>
                <li>Development time saved can be allocated elsewhere.</li>
                <li>It is highly customisable with a camera suitable for any genre of game.</li>
                <li>Supported by Unity as an offical package with its own documentation.</li>
                <li>Changes are quick to make, mostly by changing values on components unless custom behaviours are
                    required.</li>
            </ul>

            <p class="description">
                In order to test the camera, I created a small environment with a variety of different walls to simulate
                the different elevations
                that the camera would have to deal with. For the virtual cinemachine camera, I decided to use 'Framing Transposer' body with POV aim as it was most similar to a 3rd person
                follow. 
                <br>
                After coming up with a prototype that I was pleased with, I showed the progress to the team. The changes I made were to move the camera
                further back. We felt that it being close to the player could make it difficult to anticipate enemy movements.
                
            </p>
                <br>

            <h4>Game Feel</h4>
            <p class="description">
                Later on in the project we were given feedback that we needed to improve game feel. 
                Using <a id = "link" target="_blank" href = "https://docs.unity3d.com/Packages/com.unity.cinemachine@2.3/manual/CinemachineImpulse.html">Cinemachine impulse</a>
                impulse allowed me to add camera shake, via an event.
                This meant that when the player dealt damage to enemies, used a special attack or took damage, there would be a small amount of shake.
                This achieved the goal of improving game feel.
            </p>

            <h3>Scripts</h3>
            <p class="description">
                <a id ="link" target ="_blank" href = "https://github.com/LooseCann0n/SolarSpark/blob/master/Assets/Scripts/Camera/CameraLockOn.cs#L1">CameraLockOn</a>
                - Locks the camera onto the closest enemy within a valid angle
                <br>
                <a id ="link" target ="_blank" href = "https://github.com/LooseCann0n/SolarSpark/blob/d7e25ea9ed67f3f3f2c052ab4e1147c908ca8185/Assets/Scripts/CameraShake.cs#L1">CameraShake</a>
                - Adds an event which can be called to shake the Cinemachine Vcam
            </p>
        </div>
        
    </div>
</body>

</html>